<!DOCTYPE html>
<html>
 <head>
  <meta charset="utf-8">
  <title>Register</title>
  <link rel="stylesheet" href="{{ url_for('static', filename='css/style.css') }}">
  <link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.7.1/css/all.css">
  <!-- Google Fonts -->
  <link href='https://fonts.googleapis.com/css?family=Passion+One' rel='stylesheet' type='text/css'>
  <link href='https://fonts.googleapis.com/css?family=Oxygen' rel='stylesheet' type='text/css'>
  <link href="https://maxcdn.bootstrapcdn.com/bootstrap/4.1.1/css/bootstrap.min.css" rel="stylesheet" id="bootstrap-css">
 </head>
<body>
  <div class="container">
    <div class="row">
      <div class="col-12">
        <div class="regis">
          <h4>Registration Details</h4>
          <a href="{{url_for('home')}}"><button class="btn btn-success">Registration Form</button></a>
      </div>
    
    {% with messages = get_flashed_messages() %}
    {% if messages %}
    {% for message in messages %}
 
    <div class="alert alert-success alert-dismissible fade show" role="alert">
      <a href="{{url_for('get_details')}}" class="close" data-dismiss="alert" aria-label="close">&times;</a>
      {{ message }}
    </div>
    {% endfor %}
    {% endif %}
    {% endwith %}
    <table id="example" class="table table-striped table-bordered" style="width:100%">
        <thead>
          <tr>
            <td>ID</td>
            <td>First Name</td>
            <td>Last Name</td>
            <td>Email</td>
            <td>Gender</td>
            <td>Hobbies</td>
            <td>Country</td>
            <td>Actions</td>
          </tr>
        </thead>
        <tbody>
          {% for user in users %}
          <tr>
            <td>{{user.id}}</td>
            <td>{{user.firstname}}</td>
            <td>{{user.lastname}}</td>
            <td>{{user.email}}</td>
            <td>{{user.gender}}</td>
            <td>{{user.hobbies}}</td>
            <td>{{user.country}}</td>
            <td width="130">
                <a href="/edit/{{user.id}}" class="btn btn-secondary btn-sm">Edit</a>
                <a href="/delete/{{user.id}}" class="btn btn-danger btn-delete btn-sm">Delete</a>
              </td>
            </tr>
          </tr>
          {% endfor %}
        </tbody>
      </table>
    </div>
  </div>
</div>
</body>
<script>
    const btnDelete= document.querySelectorAll('.btn-delete');
    if(btnDelete) {
      const btnArray = Array.from(btnDelete);
      btnArray.forEach((btn) => {
        btn.addEventListener('click', (e) => {
          if(!confirm('Are you sure you want to delete it?')){
            e.preventDefault();
          }
        });
      })
    }   
    </script>
 <script src="https://maxcdn.bootstrapcdn.com/bootstrap/4.1.1/js/bootstrap.min.js"></script>
 <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.2.1/jquery.min.js"></script>  
 </body>
</html>